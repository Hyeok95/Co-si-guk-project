# 전처리한 데이터를 저장한 공간입니다.
## 구성은 다음과 같습니다.
### 디렉터리명
1. data1 에 관한 설명(data1 파일명)
    * row 개수
    * 기타정보
<!--tabe-->
|컬럼명|컬럼명|컬럼명|
|:--:|:--:|:--:|
|데이터타입(spark)|데이터타입(spark)|데이터타입(spark)|
|데이터예시|데이터예시|데이터예시|

* 그래프에 나타낼 때 필요한 컬럼을 명시
<!--code-->
```python
권장하는 데이터 read 코드(인코딩 이슈가 있어서 적음)
파일 경로는 git을 기준으로 작성함. 필요시 파일경로 수정
```

<div style="text-align: right">작업자 정보</div>

___
___
## main.parquet
1. 지하철 일별 이용자 수에 관한 데이터(main.parquet)
    * 1369 rows
    * 2018-01-01 부터 2021-10-31 까지의 데이터
    * 사용일자를 기준으로 오름차순으로 정리
    * 이용자 수는 승차인원을 기준으로 계산

<!--tabe-->
|사용일자|일별이용자수|
|:--:|:--:|
|date|bigint|
|2021-09-30|6398703|

* x축 : 사용일자 | y축: 일별이용자수

<!--code-->
```python
pd.read_parquet('./data/main.parquet')
```

<div style="text-align: right">작업: 2019 이전-조도흔, 2020 이후-안창혁, 취합: 조도흔</div>

___
___
## second.parquet
1. 주간 지하철이용자수와 확진자 수에 관한 데이터(second.parquet)
    * 90 rows
    * 2020-01-06 부터 2021-09-26 까지의 데이터
    * 2020-01-20 부터 2021-01-03 까지의 확진자수는 직접 입력하였음
    * 주간시작일자를 기준으로 오름차순으로 정리
    * 일주일은 월요일 ~ 일요일의 기준으로 책정하였음
    * 명절로 인해 승차총승객수가 급감한 구간이 3곳 존재(2020-01-20, 2020-09-28, 2021-02-08)
<!--tabe-->
|주간시작일자|일자|누적확진자|신규확진자|승차총승객수|
|:--:|:--:|:--:|:--:|:--:|
|date|string|int|int|bigint|
|2020-01-06|01/06-01/12|0|0|51210906|
* x축: 주간시작일자 | y축: (누적확진자 or 신규확진자 택 1) & 승차총승객수

<!--code-->
```python
pd.read_parquet("./data/second.parquet")
```


<div style="text-align: right">작업: 지하철이용자수-안창혁, 확진자수-조도흔, 취합: 조도흔</div>

___

2. 서울 코로나 관련 정책에 관한 데이터(social_distancing.csv)
    * 16 rows
    * 수기로 작업한 csv 파일임
    * 거리두기 단계가 개편된 이력이 있어서, 기본은 5단계를 따르고 7월 12일부터 시행된 개편 후 4단계 거리두기에 대해 임의로 <u>사회적 거리두기 4단계(개편)</u> 항목만 추가함
    * 일자를 기준으로 오름차순으로 정렬
    * csv로 저장시 date타입이 string타입이 됨
    * 참고 링크: [서울시 코로나 대응일지](https://www.seoul.go.kr/coronaV/coronaStatus.do?menu_code=07), [서울시 코로나19 주요뉴스](https://mediahub.seoul.go.kr/corona19/news/keywordNewsList.do)
<!--table-->
|일자|사건|
|:--:|:--:|
|string|string|
|2020-01-24|서울시 첫 확진자(2번) 발생|

* x축: 일자 | y축: 사건

<!--code-->
```python
pd.read_csv('./data/social_distancing.csv', encoding='euc-kr')
```

<div style="text-align: right">작업: 조도흔</div>

___
___
## third.parquet
1. 지하철 노선별 월간 이용자 수에 관한 데이터 (line_per_month.parquet)
    * 673 rows
    * 2018-01-01 부터 2021-09-30 까지의 데이터
    * 월간시작일자와 노선명을  기준으로 오름차순으로 정리
    * 한달은 1일 ~ 31의 기준으로 책정하였음
    * 이용자 수는 승차인원을 기준으로 계산
<!--table-->
|사용일자|노선명|승차총승객수|
|:--:|:--:|:--:|
|date|string|int|
|18-01|1호선|37718857|
|18-01|2호선|45887286|
```python
pd.read_parquet("./data/third.parquet/line_per_month.parquet")
```

<div style="text-align: right">작업: 안창혁</div>


___
___

## fourth.parquet
1. 코로나 이전과 이후의 지하철역별 이용자수 차이와 그 좌표를 기록한 데이터(fourth.parquet)
    * 619 rows
    * 2018-05-10 부터 2021-09-30 까지의 데이터
    * 2020-01-20일 기점으로 코로나 이전과 이후를 나눔
    * 이용자 수는 승차인원과 하차인원의 합으로 계산
    * 이용자수차이는 (코로나이후이용자수 - 코로나이전이용자수)로 구함
    * 일간이용자수차이는 이용자수차이를 620으로 나누어 정수형으로 변환
    * 데이터는 sub노선명을 기준으로 정렬
    * lat는 위도, lng는 경도를 나타낸다.

<!--table-->
|역명|노선명|sub노선명|순번|lat|lng|이용자수차이|일간이용자수차이|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|string|string|string|string|string|string|bigint|int|
|소요산|1호선|1호선|100|37.9481|127.061034|-1739870|-2806|


<!--code-->
```python
pd.read_parquet("./data/fourth.parquet/")
```

<div style="text-align: right">작업: 조도흔</div>

___
___

## fifth.parquet
1. 코로나 이후의 요일에 따른 지하철역 시간대별 승하차 인원 수를 기록한 데이터(fifth.parquet/day-of-week_per_time.parquet)
    * 3396 rows
    * 2020-01-20 부터 2021-09-30 까지의 데이터
    * 1호선~8호선까지의 지하철역 데아터만 존재함.(아래 참고사항 참조)
    * 모든 지하철역의 승하차 인원 수를 요일별로 나눈 후 승차/하차 인원 수로 나눔
    * 주말과 실제 공휴일을 공휴일로 변환
    * 지하철역 이름을 태블루에 설정한 지하철역 좌표 이름과 알맞게 변환.
    * 데이터는 호선을 기준으로 정렬

### 참고사항
(1) 데이터에는 있고 좌표에는 없는 역

* 5호선(신설역) : 강일, 미사, 하남검단산, 하남시청(덕풍·신장),하남풍산
* 6호선(신설역) : 신내

(2) 데이터에는 없고 좌표에는 있는 역 

* 3호선(일산선) : 대곡, 대화, 마두, 백석, 삼송, 원당, 정발산, 주엽, 화정
* 4호선(과천선) : 경마공원, 과천, 범계, 선바위, 인덕원, 정부과천청사, 평촌
* 4호선(안산선) : 고잔, 금정,  대야미, 산본, 상록수, 수리산, 신길온천, 안산, 오이도, 정왕,  중앙, 초지, 한대앞

(3) 1호선은 동대문, 동묘앞, 서울역, 시청, 신설동, 제기동, 종각, 종로3가, 종로5가, 청량리역만 존재함.(총 10개)

<!--table-->
|호선|역명|요일|구분|06:00 이전|06:00 ~ 07:00|07:00 ~ 08:00|08:00 ~ 09:00|09:00 ~ 10:00|10:00 ~ 11:00	|11:00 ~ 12:00|12:00 ~ 13:00|13:00 ~ 14:00|14:00 ~ 15:00|15:00 ~ 16:00|16:00 ~ 17:00|17:00 ~ 18:00|18:00 ~ 19:00|19:00 ~ 20:00|20:00 ~ 21:00|21:00 ~ 22:00|22:00 ~ 23:00|	23:00 이후|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|string|string|category|string|float|float|float|float|float|float|float|float|float|float|float|float|float|float|float|float|float|float|float|
|호선|동대문|Monday|승차|485.0|329.0|523.0|682.0|583.0|501.0|...|...|...|671.0|	700.0|740.0|782.0|814.0|546.0|420.0|396.0|310.0|124.0|


<!--code-->
```python
pd.read_parquet("./data/fifth.parquet/")
```

<div style="text-align: right">작업: 안창혁</div>

___
___

## bus_main.parquet
1. 버스 일별 이용자 수에 관한 데이터(bus_main.parquet)
    * 1395 rows
    * 2018-01-01 부터 2021-10-31 까지의 데이터
    * 사용일자를 기준으로 오름차순으로 정리
    * 이용자 수는 승차인원을 기준으로 계산

<!--tabe-->
|사용일자|일별이용자수|
|:--:|:--:|
|date|int|
|2021-10-31|2631497|

* x축 : 사용일자 | y축: 일별이용자수

<!--code-->
```python
pd.read_parquet('./data/bus_main.parquet')
```

<div style="text-align: right">작업: 안창혁</div>

___
___

## bus_second.parquet
1. 버스 주간 이용자 수에 관한 데이터(bus_per_week.parquet)
    * 200 rows
    * 2018-01-01 부터 2021-10-31 까지를 일주일 단위로 나눈 데이터
    * 주간시작일자를 기준으로 오름차순으로 정리
    * 일주일은 월요일 ~ 일요일의 기준으로 책정하였음
    * 이용자 수는 승차인원을 기준으로 계산
<!--table-->
|사용일자|주별이용자수|
|:--:|:--:|
|date|int|
|2021-10-25|29720831|

* x축: 사용일자 | y축: 주별이용자수

```python
pd.read_parquet("./data/bus_second.parquet/bus_per_week.parquet")
```

<div style="text-align: right">작업: 안창혁</div>

___
___

## bus_thrid.parquet
1. 코로나 이전/이후 버스종류별 이용자 수에 관한 데이터(bus_per_week.parquet)
    * 12 rows
    * 2018-01-01 부터 2021-10-31 까지의 데이터
    * 2020-01-20일 기점으로 코로나 이전과 이후를 나눔
    * 버스별 이용자 수는 승차인원의 평균으로 계산
    * 버스종류는 지선,간선,심야,광역,마을,순환버스 등 6종류로 나타냄.
    * 데이터는 버스종류를 기준으로 정렬
|코로나|버스종류|버스별이용자수|
|:--:|:--:|:--:|
|string|string|float|
|post|지선|93.822867|

* x축: 버스종류 | y축: 버스별이용자수

```python
pd.read_parquet("./data/bus_third.parquet/post_and_previous_corona_mean_bus.parquet")
```

<div style="text-align: right">작업: 안창혁</div>

___
___

## bus_fourth.parquet
1. 코로나 이후의 지역에 따른 시간대별 버스 평균 이용자 수에 관한 데이터(bus_per_time.parquet)
    * 525 rows
    * 2020-06-01 부터 2021-10-31 까지의 데이터
    * 버스별 이용자 수는 승차인원의 평균으로 계산
    * 지역은 서울의 행정구역으로 구분함(25개의 구)
    * 데이터는 지역을 가준으로 정렬

### 참고사항
(1) 원본데이터가 약 5천만개의 로우로 구성되어 있어서 지역별로 나누기에는 어마어마한 양이므로 시간적으로 부족하여 아래 사이트애서 지역별로 나누어진 데이터를 사용하였음. (단 2020년 6월부터 데이터가 존재.)
* 참고링크:
https://insfiler.com/detail/rt_transit_time_202110-0001?category=total

|지역|시간대|평균승차인원|
|:--:|:--:|:--:|
|string|string|float|
|서울특별시 강남구|00-01시|1499.0|

```python
pd.read_parquet("./data/bus_fourth.parquet/bus_per_time.parquet")
```

<div style="text-align: right">작업: 안창혁</div>

___
2. 코로나 이후의 지역에 따른 요알별 버스 평균 이용자 수에 관한 데이터(bus_per_day-of-week.parquet)
    * 175 rows
    * 2020-06-01 부터 2021-10-31 까지의 데이터
    * 버스별 이용자 수는 승차인원의 평균으로 계산
    * 지역은 서울의 행정구역으로 구분함(25개의 구)
    * 데이터는 지역을 가준으로 정렬

### 참고사항
(1) 원본데이터가 약 5천만개의 로우로 구성되어 있어서 지역별로 나누기에는 어마어마한 양이므로 시간적으로 부족하여 아래 사이트애서 지역별로 나누어진 데이터를 사용하였음. (단 2020년 6월부터 데이터가 존재.)
* 참고링크:
https://insfiler.com/detail/rt_transit_day-0005?category=total

|지역|요일|평균승차인원|
|:--:|:--:|:--:|
|string|string|float|
|서울특별시 강남구|월요일|2839686.0|

```python
pd.read_parquet("./data/bus_fourth.parquet/bus_per_day-of-week.parquet")
```

<div style="text-align: right">작업: 안창혁</div>
